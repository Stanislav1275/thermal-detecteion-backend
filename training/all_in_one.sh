#!/bin/bash
# –í—Å—ë –≤ –æ–¥–Ω–æ–º: —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –æ–±—É—á–µ–Ω–∏–µ

set -e

echo "============================================================"
echo "üöÄ –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞: –¥–∞—Ç–∞—Å–µ—Ç + –æ–±—É—á–µ–Ω–∏–µ"
echo "============================================================"
echo ""

# –®–∞–≥ 1: –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞
echo "üì• –®–∞–≥ 1/3: –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞..."
./download_dataset.sh
echo ""

# –®–∞–≥ 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
echo "üîÑ –®–∞–≥ 2/3: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞..."
./prepare.sh
echo ""

# –®–∞–≥ 3: –û–±—É—á–µ–Ω–∏–µ
echo "üéì –®–∞–≥ 3/3: –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏..."
read -p "–°–∫–æ–ª—å–∫–æ —ç–ø–æ—Ö –æ–±—É—á–∞—Ç—å? (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100): " epochs
epochs=${epochs:-100}
./train_simple.sh $epochs

echo ""
echo "============================================================"
echo "‚úÖ –í—Å—ë –≥–æ—Ç–æ–≤–æ! –ú–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞."
echo "   –ó–∞–ø—É—Å—Ç–∏—Ç–µ API: cd ../backend && ./run.sh"
echo "============================================================"

